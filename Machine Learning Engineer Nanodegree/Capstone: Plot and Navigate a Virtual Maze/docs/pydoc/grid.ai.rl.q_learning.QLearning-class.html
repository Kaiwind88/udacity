<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>grid.ai.rl.q_learning.QLearning</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="grid-module.html">Package&nbsp;grid</a> ::
        <a href="grid.ai-module.html">Package&nbsp;ai</a> ::
        <a href="grid.ai.rl-module.html">Package&nbsp;rl</a> ::
        <a href="grid.ai.rl.q_learning-module.html">Module&nbsp;q_learning</a> ::
        Class&nbsp;QLearning
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="grid.ai.rl.q_learning.QLearning-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class QLearning</h1><p class="nomargin-top"><span class="codelink"><a href="grid.ai.rl.q_learning-pysrc.html#QLearning">source&nbsp;code</a></span></p>
<pre class="base-tree">
            <a href="object-class.html">object</a> --+        
                     |        
<a href="grid.ai.abstract_ai.AbstractAI-class.html">abstract_ai.AbstractAI</a> --+    
                         |    
  <a href="grid.ai.rl.rl.ReinforcementLearning-class.html">rl.ReinforcementLearning</a> --+
                             |
                            <strong class="uidshort">QLearning</strong>
</pre>

<hr />
<p>In Q-learning and related algorithms, an agent tries to learn the 
  optimal policy from its history of interaction with the environment. A 
  history of an agent is a sequence of state-action-rewards:</p>
  <p>&lt;s0,a0,r1,s1,a1,r2,s2,a2,r3,s3,a3,r4,s4...&gt;,</p>
  <p>which means that the agent was in state s0 and did action a0, which 
  resulted in it receiving reward r1 and being in state s1; then it did 
  action a1, received reward r2, and ended up in state s2; then it did 
  action a2, received reward r3, and ended up in state s3; and so on. 
  Q*(s,a), where a is an action and s is a state, is the expected value 
  (cumulative discounted reward) of doing a in state s and then following 
  the optimal policy. Q-learning uses temporal differences to estimate the 
  value of Q*(s,a). In Q-learning, the agent maintains a table of Q[S,A], 
  where S is the set of states and A is the set of actions. Q[s,a] 
  represents its current estimate of Q*(s,a). An experience 
  &lt;s,a,r,s'&gt; provides one data point for the value of Q(s,a). The 
  data point is that the agent received the future value of r + gamma * 
  V(s'), where V(s') = maxa' Q(s',a'); this is the actual current reward 
  plus the discounted estimated future value. This new data point is called
  a return. The agent can use the temporal difference equation to update 
  its estimate for Q(s,a):</p>
  <p>Q[s,a] &lt;- Q[s,a] + alpha(r+ gamma * maxa' Q[s',a'] - Q[s,a]) or, 
  equivalently, Q[s,a] &lt;- (1-alpha) Q[s,a] + alpha(r+ gamma * maxa' 
  Q[s',a'])</p>
  <p>Q-learning learns an optimal policy no matter which policy the agent 
  is actually following (i.e., which action a it selects for any state s) 
  as long as there is no bound on the number of times it tries an action in
  any state (i.e., it does not always do the same subset of actions in a 
  state). Because it learns an optimal policy no matter which policy it is 
  carrying out, it is called an off-policy method.</p>
  <p>Here total num of learning episodes is set to 100. Learning rate, 
  alpha=0.5, Discount, gamma=0.9 and Exploration, epsilon=0.3. Both state 
  transition function and reward function are missing. Agent learns both by
  interacting with the environment during its learning episodes.</p>

<!-- ==================== NESTED CLASSES ==================== -->
<a name="section-NestedClasses"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Nested Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-NestedClasses"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="grid.ai.abstract_ai.AbstractAI-class.html">abstract_ai.AbstractAI</a></code></b>:
      <code><a href="abc.ABCMeta-class.html">__metaclass__</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="grid.ai.rl.q_learning.QLearning-class.html#title" class="summary-sig-name">title</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Name of the AI algorithm that will be shown as title on UI screen</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="grid.ai.rl.q_learning-pysrc.html#QLearning.title">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="grid.ai.rl.q_learning.QLearning-class.html#beforeReset" class="summary-sig-name">beforeReset</a>(<span class="summary-sig-arg">self</span>)</span><br />
      A callback function that gives AI algorithm an opportunity to perform
      any last minute calculations before sending (reset, reset) signal to 
      Tester.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="grid.ai.rl.q_learning-pysrc.html#QLearning.beforeReset">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="grid.ai.rl.q_learning.QLearning-class.html#runEpisode" class="summary-sig-name">runEpisode</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">agent</span>,
        <span class="summary-sig-arg">environment</span>,
        <span class="summary-sig-arg">episode</span>)</span><br />
      Perform QLearning episode iteration</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="grid.ai.rl.q_learning-pysrc.html#QLearning.runEpisode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="grid.ai.rl.rl.ReinforcementLearning-class.html">rl.ReinforcementLearning</a></code></b>:
      <code><a href="grid.ai.rl.rl.ReinforcementLearning-class.html#__init__">__init__</a></code>,
      <code><a href="grid.ai.rl.rl.ReinforcementLearning-class.html#canReset">canReset</a></code>,
      <code><a href="grid.ai.rl.rl.ReinforcementLearning-class.html#currentPathDrawTail">currentPathDrawTail</a></code>,
      <code><a href="grid.ai.rl.rl.ReinforcementLearning-class.html#drawRecentPath">drawRecentPath</a></code>,
      <code><a href="grid.ai.rl.rl.ReinforcementLearning-class.html#nextMove">nextMove</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="grid.ai.abstract_ai.AbstractAI-class.html">abstract_ai.AbstractAI</a></code></b>:
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#drawBestPath">drawBestPath</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#drawFirstPath">drawFirstPath</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#drawRunPaths">drawRunPaths</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#exploreMaze">exploreMaze</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#getBestDirection">getBestDirection</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#hasExplored">hasExplored</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#hasReachedGoal">hasReachedGoal</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#incrementCounters">incrementCounters</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#isGoalRoomCell">isGoalRoomCell</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#markExplored">markExplored</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#nextStep">nextStep</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#onReachedGoal">onReachedGoal</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#onReset">onReset</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#pathRecentXyOffset">pathRecentXyOffset</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#percentExplored">percentExplored</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#setStatus">setStatus</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#setTitle">setTitle</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#setWalls">setWalls</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#signalUi">signalUi</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="object-class.html">object</a></code></b>:
      <code><a href="object-class.html#__delattr__">__delattr__</a></code>,
      <code><a href="object-class.html#__format__">__format__</a></code>,
      <code><a href="object-class.html#__getattribute__">__getattribute__</a></code>,
      <code><a href="object-class.html#__hash__">__hash__</a></code>,
      <code><a href="object-class.html#__new__">__new__</a></code>,
      <code><a href="object-class.html#__reduce__">__reduce__</a></code>,
      <code><a href="object-class.html#__reduce_ex__">__reduce_ex__</a></code>,
      <code><a href="object-class.html#__repr__">__repr__</a></code>,
      <code><a href="object-class.html#__setattr__">__setattr__</a></code>,
      <code><a href="object-class.html#__sizeof__">__sizeof__</a></code>,
      <code><a href="object-class.html#__str__">__str__</a></code>,
      <code><a href="object-class.html#__subclasshook__">__subclasshook__</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="grid.ai.abstract_ai.AbstractAI-class.html">abstract_ai.AbstractAI</a></code></b>:
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#BIG_NUM">BIG_NUM</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#__abstractmethods__">__abstractmethods__</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#count_center">count_center</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#count_start">count_start</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#dir_left">dir_left</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#dir_reverse">dir_reverse</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#dir_right">dir_right</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#dir_sensors">dir_sensors</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#heading_convert">heading_convert</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#path_best">path_best</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#path_current">path_current</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#path_first">path_first</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#path_first_recorded">path_first_recorded</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#run">run</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#run_count">run_count</a></code>
      </p>
    <div class="private">    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="grid.ai.abstract_ai.AbstractAI-class.html">abstract_ai.AbstractAI</a></code></b> (private):
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#_abc_cache" onclick="show_private();">_abc_cache</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#_abc_negative_cache" onclick="show_private();">_abc_negative_cache</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#_abc_negative_cache_version" onclick="show_private();">_abc_negative_cache_version</a></code>,
      <code><a href="grid.ai.abstract_ai.AbstractAI-class.html#_abc_registry" onclick="show_private();">_abc_registry</a></code>
      </p></div>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="object-class.html">object</a></code></b>:
      <code><a href="object-class.html#__class__">__class__</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="title"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">title</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="grid.ai.rl.q_learning-pysrc.html#QLearning.title">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Name of the AI algorithm that will be shown as title on UI screen</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="grid.ai.abstract_ai.AbstractAI-class.html#title">abstract_ai.AbstractAI.title</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="beforeReset"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">beforeReset</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="grid.ai.rl.q_learning-pysrc.html#QLearning.beforeReset">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>A callback function that gives AI algorithm an opportunity to perform 
  any last minute calculations before sending (reset, reset) signal to 
  Tester. QLearning algo runs its iterations of learning episodes and comes
  up with a path from start to goal before reseting.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="grid.ai.abstract_ai.AbstractAI-class.html#beforeReset">abstract_ai.AbstractAI.beforeReset</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="runEpisode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">runEpisode</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">agent</span>,
        <span class="sig-arg">environment</span>,
        <span class="sig-arg">episode</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="grid.ai.rl.q_learning-pysrc.html#QLearning.runEpisode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Perform QLearning episode iteration</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>agent</code></strong> (grid.ai.rl.q_learning.QLearningAgent) - Instance of QLearningAgent interacting with MazeEnvironment and 
          receiving rewards</li>
        <li><strong class="pname"><code>environment</code></strong> (grid.ai.rl.q_learning.MazeEnvironment) - Handle to environment instance in which agent is QLearning and 
          receiving rewards from</li>
        <li><strong class="pname"><code>episode</code></strong> (int) - current episode number</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Wed Nov  2 22:10:02 2016
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
